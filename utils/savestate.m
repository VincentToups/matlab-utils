function savestate(filename)

evalin('caller',sprintf([...
'path___ = path;\n'...
'dir___ = pwd;\n'...
'\n'...
'save(''%s.mat'')\n'...
'\n'...
],filename));

